-- 11.1.1DROP FUNCTION masaPudelka(CHAR(4));CREATE OR REPLACE FUNCTION masaPudelka(_idPudelka CHAR(4)) RETURNS numeric(7,2) AS $$  DECLARE masa  INTEGER[] = array(SELECT c.masa  FROM zawartosc z NATURAL JOIN czekoladki c WHERE z.idPudelka = _idPudelka);  DECLARE sztuk INTEGER[] = array(SELECT z.sztuk FROM zawartosc z NATURAL JOIN czekoladki c WHERE z.idPudelka = _idPudelka);  DECLARE calkowita_masa INTEGER = 0;    BEGIN          FOR i IN 1 .. ARRAY_UPPER(masa, 1) LOOP        calkowita_masa := calkowita_masa + masa[i] * sztuk[i];      END LOOP;      RETURN calkowita_masa;    END;  $$ LANGUAGE plpgsql;